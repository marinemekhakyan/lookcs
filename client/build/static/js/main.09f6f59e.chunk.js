(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},28:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),l=n(37),o=n(38),u=n(39),s=n(35),m=(n(24),function(e){var t=e.children;return r.a.createElement("div",{className:"title-box"},r.a.createElement("h1",{className:"title"},t))}),h=(n(25),function(){return r.a.createElement(a.Fragment,null,r.a.createElement(m,null,"Authentication"),r.a.createElement("button",{className:"btn"},r.a.createElement(s.a,{to:"/login"},"ENTER")))}),d=n(12),p=n(6),b=n(7),f=n(9),g=n(8),E=n(10),v=n(3),O=function(e,t){return fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})},j=function(e,t){return fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})},y=function(){return fetch("/api/auth/",{method:"DELETE"})},k=function(e){return fetch("/api/auth/session/".concat(encodeURIComponent(e)))},C=(n(28),function(e){var t=e.inputHandler,n=e.submitHandler;return r.a.createElement("form",{className:"form",onSubmit:n},r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{id:"username",type:"text",name:"username",onChange:t,required:!0}),r.a.createElement("span",{className:"input-underline"}),r.a.createElement("label",{htmlFor:"username",className:"input-label"},"Username")),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{id:"password",type:"password",name:"password",onChange:t,required:!0}),r.a.createElement("span",{className:"input-underline"}),r.a.createElement("label",{htmlFor:"password",className:"input-label"},"Password")),r.a.createElement("button",{className:"btn"},"SUBMIT"))}),S=(n(16),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={username:"",password:""},n.handleInputChange=n.handleInputChange.bind(Object(v.a)(Object(v.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(Object(v.a)(n))),n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(d.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),O(this.state.username,this.state.password).then(function(e){return t.props.history.push("/secure")}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(m,null,"Login"),r.a.createElement(C,{inputHandler:this.handleInputChange,submitHandler:this.handleSubmit}),r.a.createElement(s.a,{to:"/register",className:"link-to-register"},"First time? Register here"))}}]),t}(a.Component)),N=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={username:"",password:""},n.handleInputChange=n.handleInputChange.bind(Object(v.a)(Object(v.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(Object(v.a)(n))),n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(d.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),j(this.state.username,this.state.password).then(function(e){return t.props.history.push("/secure")}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(m,null,"Register"),r.a.createElement(C,{inputHandler:this.handleInputChange,submitHandler:this.handleSubmit}),r.a.createElement(s.a,{to:"/login",className:"link-to-register"},"Already have an account? Login here"))}}]),t}(a.Component),w=n(18),I=n.n(w),x=n(36),T=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={cookie:null,loading:!0},n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.validateCookie()}},{key:"validateCookie",value:function(){var e=this,t=I.a.load("connect.sid");k(t).then(function(n){200===n.status?e.setState({cookie:t,loading:!1}):e.setState({loading:!1})}).catch(function(t){return e.setState({loading:!1})})}},{key:"handleLogout",value:function(){var e=this;y().then(function(t){return e.props.history.push("/login")}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",null,"Loading..."):this.state.cookie?r.a.createElement(a.Fragment,null,r.a.createElement(m,null,"This is a secure page"),r.a.createElement("button",{id:"logout",onClick:this.handleLogout,className:"btn"},"LOG OUT")):r.a.createElement(x.a,{to:"/login"})}}]),t}(a.Component);n(32);var F=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"flexbox"},r.a.createElement(o.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:h}),r.a.createElement(u.a,{exact:!0,path:"/login",component:S}),r.a.createElement(u.a,{exact:!0,path:"/register",component:N}),r.a.createElement(u.a,{exact:!0,path:"/secure",component:T}))))};i.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.09f6f59e.chunk.js.map