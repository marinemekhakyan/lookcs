{"version":3,"sources":["components/Title.js","pages/Home.js","utils/API.js","components/Form.js","pages/Login.js","pages/Register.js","pages/Secure.js","App.js","index.js"],"names":["Title","_ref","children","react_default","a","createElement","className","Home","react","src_components_Title","Link","to","API","username","password","fetch","method","headers","Content-Type","body","JSON","stringify","sid","concat","encodeURIComponent","Form","inputHandler","submitHandler","onSubmit","id","type","name","onChange","required","htmlFor","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","handleInputChange","bind","assertThisInitialized","handleSubmit","event","_event$target","target","value","setState","defineProperty","_this2","preventDefault","then","res","history","push","catch","err","console","error","src_components_Form","Component","Register","Secure","cookie","loading","validateCookie","cookieValue","load","status","_this3","onClick","handleLogout","Redirect","App","BrowserRouter","Switch","Route","exact","path","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.09f6f59e.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Title.css\";\n\nconst Title = ({ children }) => (\n  <div className=\"title-box\">\n    <h1 className=\"title\">{ children }</h1>\n  </div>\n);\n\nexport default Title;\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Title from \"../components/Title\";\n\nimport \"./Home.css\";\n\nconst Home = () => (\n  <Fragment>\n    <Title>Authentication</Title>\n    <button className=\"btn\"><Link to=\"/login\">ENTER</Link></button>\n  </Fragment>\n)\n\nexport default Home;\n","export default {\n  login: (username, password) => \n    fetch(\"/api/auth/login\", {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, password })\n    }),\n  register: (username, password) =>\n    fetch(\"/api/auth/register\", {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, password })\n    }),\n  logout: () => fetch(\"/api/auth/\", { method: 'DELETE' }),\n  validateCookie: sid => fetch(`/api/auth/session/${encodeURIComponent(sid)}`),\n};\n","import React from \"react\";\nimport \"./Form.css\";\n\nconst Form = ({ inputHandler, submitHandler }) => (\n  <form className=\"form\" onSubmit={submitHandler}>\n    <div className=\"input-container\">\n      <input id=\"username\" type=\"text\" name=\"username\" onChange={inputHandler} required />\n      <span className=\"input-underline\"></span>\n      <label htmlFor=\"username\" className=\"input-label\">Username</label>\n    </div>\n    <div className=\"input-container\">\n      <input id=\"password\" type=\"password\" name=\"password\" onChange={inputHandler} required />\n      <span className=\"input-underline\"></span>\n      <label htmlFor=\"password\" className=\"input-label\">Password</label>\n    </div>\n    <button className=\"btn\">SUBMIT</button>\n  </form>\n);\n\nexport default Form;\n","import React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/API\";\nimport Title from \"../components/Title\";\nimport Form from \"../components/Form\";\nimport \"./Login.css\";\n\nclass Login extends Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: ''\n    }\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange (event) {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n\n    API.login(this.state.username, this.state.password)\n      .then(res => this.props.history.push('/secure'))\n      .catch(err => console.error(err));\n  }\n\n  render () {\n    return (\n      <Fragment>\n        <Title>Login</Title>\n        <Form inputHandler={this.handleInputChange} submitHandler={this.handleSubmit} />\n        <Link to=\"/register\" className=\"link-to-register\">First time? Register here</Link>\n      </Fragment>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/API\";\nimport Title from \"../components/Title\";\nimport Form from \"../components/Form\";\nimport \"./Login.css\";\n\nclass Register extends Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: ''\n    }\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange (event) {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n\n    API.register(this.state.username, this.state.password)\n      .then(res => this.props.history.push('/secure'))\n      .catch(err => console.error(err));\n  }\n\n  render () {\n    return (\n      <Fragment>\n        <Title>Register</Title>\n        <Form inputHandler={this.handleInputChange} submitHandler={this.handleSubmit} />\n        <Link to=\"/login\" className=\"link-to-register\">Already have an account? Login here</Link>\n      </Fragment>\n    );\n  }\n}\n\nexport default Register;\n","import React, { Component, Fragment } from \"react\";\nimport cookie from 'react-cookies'\nimport { Redirect } from 'react-router-dom';\nimport Title from \"../components/Title\";\nimport API from \"../utils/API\";\n\nclass Secure extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cookie: null,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.validateCookie();\n  }\n\n  validateCookie() {\n    const cookieValue = cookie.load('connect.sid');\n    API.validateCookie(cookieValue)\n      .then(res => {\n        if (res.status === 200) {\n          this.setState({ cookie: cookieValue, loading: false });\n        } else {\n          this.setState({ loading: false });\n        }\n      })\n      .catch(err => this.setState({ loading: false }))\n  }\n\n  handleLogout () {\n    API.logout()\n      .then(res => this.props.history.push('/login'))\n      .catch(err => console.error(err));\n  }\n\n  render() {\n    if (this.state.loading) {\n      return <div>Loading...</div>;\n    }\n    if (!this.state.cookie) {\n      return <Redirect to='/login' />\n    }\n    return (\n      <Fragment>\n        <Title>This is a secure page</Title>\n        <button id=\"logout\" onClick={this.handleLogout} className=\"btn\">LOG OUT</button>\n      </Fragment>\n    );\n  }\n}\n\nexport default Secure;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport Secure from \"./pages/Secure\";\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"flexbox\">\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/register\" component={Register} />\n          <Route exact path=\"/secure\" component={Secure} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}