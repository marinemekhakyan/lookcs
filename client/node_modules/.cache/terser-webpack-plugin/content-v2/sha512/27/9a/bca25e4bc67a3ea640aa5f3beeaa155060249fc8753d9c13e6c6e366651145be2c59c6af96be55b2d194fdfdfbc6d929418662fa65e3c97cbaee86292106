{"map":"{\"version\":3,\"sources\":[\"/Users/marinemekhakyan/lookcs-beta/client/src/components/Title.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/pages/Home.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/utils/API.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/components/Form.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/pages/Login.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/pages/Register.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/pages/Secure.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/App.js\",\"/Users/marinemekhakyan/lookcs-beta/client/src/index.js\"],\"names\":[\"Title\",\"_ref\",\"children\",\"react_default\",\"a\",\"createElement\",\"className\",\"Home\",\"react\",\"src_components_Title\",\"Link\",\"to\",\"API\",\"username\",\"password\",\"fetch\",\"method\",\"headers\",\"Content-Type\",\"body\",\"JSON\",\"stringify\",\"sid\",\"concat\",\"encodeURIComponent\",\"Form\",\"inputHandler\",\"submitHandler\",\"onSubmit\",\"id\",\"type\",\"name\",\"onChange\",\"required\",\"htmlFor\",\"Login\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"handleInputChange\",\"bind\",\"assertThisInitialized\",\"handleSubmit\",\"event\",\"_event$target\",\"target\",\"value\",\"setState\",\"defineProperty\",\"_this2\",\"preventDefault\",\"then\",\"res\",\"history\",\"push\",\"catch\",\"err\",\"console\",\"error\",\"src_components_Form\",\"Component\",\"Register\",\"Secure\",\"cookie\",\"loading\",\"validateCookie\",\"cookieValue\",\"load\",\"status\",\"_this3\",\"onClick\",\"handleLogout\",\"Redirect\",\"App\",\"BrowserRouter\",\"Switch\",\"Route\",\"exact\",\"path\",\"component\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from \\\"react\\\";\\nimport \\\"./Title.css\\\";\\n\\nconst Title = ({ children }) => (\\n  <div className=\\\"title-box\\\">\\n    <h1 className=\\\"title\\\">{ children }</h1>\\n  </div>\\n);\\n\\nexport default Title;\\n\",\"import React, { Fragment } from \\\"react\\\";\\nimport { Link } from \\\"react-router-dom\\\";\\nimport Title from \\\"../components/Title\\\";\\n\\nimport \\\"./Home.css\\\";\\n\\nconst Home = () => (\\n  <Fragment>\\n    <Title>Authentication</Title>\\n    <button className=\\\"btn\\\"><Link to=\\\"/login\\\">ENTER</Link></button>\\n  </Fragment>\\n)\\n\\nexport default Home;\\n\",\"export default {\\n  login: (username, password) => \\n    fetch(\\\"/api/auth/login\\\", {\\n      method: 'POST',\\n      headers: { 'Content-Type': 'application/json' },\\n      body: JSON.stringify({ username, password })\\n    }),\\n  register: (username, password) =>\\n    fetch(\\\"/api/auth/register\\\", {\\n      method: 'POST',\\n      headers: { 'Content-Type': 'application/json' },\\n      body: JSON.stringify({ username, password })\\n    }),\\n  logout: () => fetch(\\\"/api/auth/\\\", { method: 'DELETE' }),\\n  validateCookie: sid => fetch(`/api/auth/session/${encodeURIComponent(sid)}`),\\n};\\n\",\"import React from \\\"react\\\";\\nimport \\\"./Form.css\\\";\\n\\nconst Form = ({ inputHandler, submitHandler }) => (\\n  <form className=\\\"form\\\" onSubmit={submitHandler}>\\n    <div className=\\\"input-container\\\">\\n      <input id=\\\"username\\\" type=\\\"text\\\" name=\\\"username\\\" onChange={inputHandler} required />\\n      <span className=\\\"input-underline\\\"></span>\\n      <label htmlFor=\\\"username\\\" className=\\\"input-label\\\">Username</label>\\n    </div>\\n    <div className=\\\"input-container\\\">\\n      <input id=\\\"password\\\" type=\\\"password\\\" name=\\\"password\\\" onChange={inputHandler} required />\\n      <span className=\\\"input-underline\\\"></span>\\n      <label htmlFor=\\\"password\\\" className=\\\"input-label\\\">Password</label>\\n    </div>\\n    <button className=\\\"btn\\\">SUBMIT</button>\\n  </form>\\n);\\n\\nexport default Form;\\n\",\"import React, { Component, Fragment } from \\\"react\\\";\\nimport { Link } from \\\"react-router-dom\\\";\\nimport API from \\\"../utils/API\\\";\\nimport Title from \\\"../components/Title\\\";\\nimport Form from \\\"../components/Form\\\";\\nimport \\\"./Login.css\\\";\\n\\nclass Login extends Component {\\n  constructor (props) {\\n    super(props);\\n\\n    this.state = {\\n      username: '',\\n      password: ''\\n    }\\n\\n    this.handleInputChange = this.handleInputChange.bind(this);\\n    this.handleSubmit = this.handleSubmit.bind(this);\\n  }\\n\\n  handleInputChange (event) {\\n    const { name, value } = event.target;\\n    this.setState({ [name]: value });\\n  }\\n\\n  handleSubmit (event) {\\n    event.preventDefault();\\n\\n    API.login(this.state.username, this.state.password)\\n      .then(res => this.props.history.push('/secure'))\\n      .catch(err => console.error(err));\\n  }\\n\\n  render () {\\n    return (\\n      <Fragment>\\n        <Title>Login</Title>\\n        <Form inputHandler={this.handleInputChange} submitHandler={this.handleSubmit} />\\n        <Link to=\\\"/register\\\" className=\\\"link-to-register\\\">First time? Register here</Link>\\n      </Fragment>\\n    );\\n  }\\n}\\n\\nexport default Login;\\n\",\"import React, { Component, Fragment } from \\\"react\\\";\\nimport { Link } from \\\"react-router-dom\\\";\\nimport API from \\\"../utils/API\\\";\\nimport Title from \\\"../components/Title\\\";\\nimport Form from \\\"../components/Form\\\";\\nimport \\\"./Login.css\\\";\\n\\nclass Register extends Component {\\n  constructor (props) {\\n    super(props);\\n\\n    this.state = {\\n      username: '',\\n      password: ''\\n    }\\n\\n    this.handleInputChange = this.handleInputChange.bind(this);\\n    this.handleSubmit = this.handleSubmit.bind(this);\\n  }\\n\\n  handleInputChange (event) {\\n    const { name, value } = event.target;\\n    this.setState({ [name]: value });\\n  }\\n\\n  handleSubmit (event) {\\n    event.preventDefault();\\n\\n    API.register(this.state.username, this.state.password)\\n      .then(res => this.props.history.push('/secure'))\\n      .catch(err => console.error(err));\\n  }\\n\\n  render () {\\n    return (\\n      <Fragment>\\n        <Title>Register</Title>\\n        <Form inputHandler={this.handleInputChange} submitHandler={this.handleSubmit} />\\n        <Link to=\\\"/login\\\" className=\\\"link-to-register\\\">Already have an account? Login here</Link>\\n      </Fragment>\\n    );\\n  }\\n}\\n\\nexport default Register;\\n\",\"import React, { Component, Fragment } from \\\"react\\\";\\nimport cookie from 'react-cookies'\\nimport { Redirect } from 'react-router-dom';\\nimport Title from \\\"../components/Title\\\";\\nimport API from \\\"../utils/API\\\";\\n\\nclass Secure extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      cookie: null,\\n      loading: true\\n    };\\n  }\\n\\n  componentDidMount() {\\n    this.validateCookie();\\n  }\\n\\n  validateCookie() {\\n    const cookieValue = cookie.load('connect.sid');\\n    API.validateCookie(cookieValue)\\n      .then(res => {\\n        if (res.status === 200) {\\n          this.setState({ cookie: cookieValue, loading: false });\\n        } else {\\n          this.setState({ loading: false });\\n        }\\n      })\\n      .catch(err => this.setState({ loading: false }))\\n  }\\n\\n  handleLogout () {\\n    API.logout()\\n      .then(res => this.props.history.push('/login'))\\n      .catch(err => console.error(err));\\n  }\\n\\n  render() {\\n    if (this.state.loading) {\\n      return <div>Loading...</div>;\\n    }\\n    if (!this.state.cookie) {\\n      return <Redirect to='/login' />\\n    }\\n    return (\\n      <Fragment>\\n        <Title>This is a secure page</Title>\\n        <button id=\\\"logout\\\" onClick={this.handleLogout} className=\\\"btn\\\">LOG OUT</button>\\n      </Fragment>\\n    );\\n  }\\n}\\n\\nexport default Secure;\\n\",\"import React from \\\"react\\\";\\nimport { BrowserRouter as Router, Route, Switch } from \\\"react-router-dom\\\";\\nimport Home from \\\"./pages/Home\\\";\\nimport Login from \\\"./pages/Login\\\";\\nimport Register from \\\"./pages/Register\\\";\\nimport Secure from \\\"./pages/Secure\\\";\\n\\nimport './App.css';\\n\\nfunction App() {\\n  return (\\n    <Router>\\n      <div className=\\\"flexbox\\\">\\n        <Switch>\\n          <Route exact path=\\\"/\\\" component={Home} />\\n          <Route exact path=\\\"/login\\\" component={Login} />\\n          <Route exact path=\\\"/register\\\" component={Register} />\\n          <Route exact path=\\\"/secure\\\" component={Secure} />\\n        </Switch>\\n      </div>\\n    </Router>\\n  );\\n}\\n\\nexport default App;\\n\",\"import React from \\\"react\\\";\\nimport ReactDOM from \\\"react-dom\\\";\\nimport App from \\\"./App\\\";\\n\\nReactDOM.render(<App />, document.getElementById(\\\"root\\\"));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},28:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),l=n(37),o=n(38),u=n(39),s=n(35),m=(n(24),function(e){var t=e.children;return r.a.createElement(\"div\",{className:\"title-box\"},r.a.createElement(\"h1\",{className:\"title\"},t))}),h=(n(25),function(){return r.a.createElement(a.Fragment,null,r.a.createElement(m,null,\"Authentication\"),r.a.createElement(\"button\",{className:\"btn\"},r.a.createElement(s.a,{to:\"/login\"},\"ENTER\")))}),d=n(12),p=n(6),b=n(7),f=n(9),g=n(8),E=n(10),v=n(3),O=function(e,t){return fetch(\"/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:e,password:t})})},j=function(e,t){return fetch(\"/api/auth/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:e,password:t})})},y=function(){return fetch(\"/api/auth/\",{method:\"DELETE\"})},k=function(e){return fetch(\"/api/auth/session/\".concat(encodeURIComponent(e)))},C=(n(28),function(e){var t=e.inputHandler,n=e.submitHandler;return r.a.createElement(\"form\",{className:\"form\",onSubmit:n},r.a.createElement(\"div\",{className:\"input-container\"},r.a.createElement(\"input\",{id:\"username\",type:\"text\",name:\"username\",onChange:t,required:!0}),r.a.createElement(\"span\",{className:\"input-underline\"}),r.a.createElement(\"label\",{htmlFor:\"username\",className:\"input-label\"},\"Username\")),r.a.createElement(\"div\",{className:\"input-container\"},r.a.createElement(\"input\",{id:\"password\",type:\"password\",name:\"password\",onChange:t,required:!0}),r.a.createElement(\"span\",{className:\"input-underline\"}),r.a.createElement(\"label\",{htmlFor:\"password\",className:\"input-label\"},\"Password\")),r.a.createElement(\"button\",{className:\"btn\"},\"SUBMIT\"))}),S=(n(16),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={username:\"\",password:\"\"},n.handleInputChange=n.handleInputChange.bind(Object(v.a)(Object(v.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(Object(v.a)(n))),n}return Object(E.a)(t,e),Object(b.a)(t,[{key:\"handleInputChange\",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(d.a)({},n,a))}},{key:\"handleSubmit\",value:function(e){var t=this;e.preventDefault(),O(this.state.username,this.state.password).then(function(e){return t.props.history.push(\"/secure\")}).catch(function(e){return console.error(e)})}},{key:\"render\",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(m,null,\"Login\"),r.a.createElement(C,{inputHandler:this.handleInputChange,submitHandler:this.handleSubmit}),r.a.createElement(s.a,{to:\"/register\",className:\"link-to-register\"},\"First time? Register here\"))}}]),t}(a.Component)),N=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={username:\"\",password:\"\"},n.handleInputChange=n.handleInputChange.bind(Object(v.a)(Object(v.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(Object(v.a)(n))),n}return Object(E.a)(t,e),Object(b.a)(t,[{key:\"handleInputChange\",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(d.a)({},n,a))}},{key:\"handleSubmit\",value:function(e){var t=this;e.preventDefault(),j(this.state.username,this.state.password).then(function(e){return t.props.history.push(\"/secure\")}).catch(function(e){return console.error(e)})}},{key:\"render\",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(m,null,\"Register\"),r.a.createElement(C,{inputHandler:this.handleInputChange,submitHandler:this.handleSubmit}),r.a.createElement(s.a,{to:\"/login\",className:\"link-to-register\"},\"Already have an account? Login here\"))}}]),t}(a.Component),w=n(18),I=n.n(w),x=n(36),T=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={cookie:null,loading:!0},n}return Object(E.a)(t,e),Object(b.a)(t,[{key:\"componentDidMount\",value:function(){this.validateCookie()}},{key:\"validateCookie\",value:function(){var e=this,t=I.a.load(\"connect.sid\");k(t).then(function(n){200===n.status?e.setState({cookie:t,loading:!1}):e.setState({loading:!1})}).catch(function(t){return e.setState({loading:!1})})}},{key:\"handleLogout\",value:function(){var e=this;y().then(function(t){return e.props.history.push(\"/login\")}).catch(function(e){return console.error(e)})}},{key:\"render\",value:function(){return this.state.loading?r.a.createElement(\"div\",null,\"Loading...\"):this.state.cookie?r.a.createElement(a.Fragment,null,r.a.createElement(m,null,\"This is a secure page\"),r.a.createElement(\"button\",{id:\"logout\",onClick:this.handleLogout,className:\"btn\"},\"LOG OUT\")):r.a.createElement(x.a,{to:\"/login\"})}}]),t}(a.Component);n(32);var F=function(){return r.a.createElement(l.a,null,r.a.createElement(\"div\",{className:\"flexbox\"},r.a.createElement(o.a,null,r.a.createElement(u.a,{exact:!0,path:\"/\",component:h}),r.a.createElement(u.a,{exact:!0,path:\"/login\",component:S}),r.a.createElement(u.a,{exact:!0,path:\"/register\",component:N}),r.a.createElement(u.a,{exact:!0,path:\"/secure\",component:T}))))};i.a.render(r.a.createElement(F,null),document.getElementById(\"root\"))}},[[19,1,2]]]);","extractedComments":[]}